<!DOCTYPE html>
<html lang="en" ng-app="ssheet">
	<head>
		<meta charset="utf-8"/>
		<title>S Sheet</title>
		
		<!-- reset stylesheet -->
		<link style="text/css" rel="stylesheet" href="css/reset.css"/>

		<!-- our stylesheets -->
		<link style="text/css" rel="stylesheet" href="css/ssheet.css"/>
				
		<!-- 3rd party scripts -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.13/angular.min.js"></script>
		
		<!-- our scripts -->
		<script style="text/javascript" src="scripts/ssheet.js"></script>
				
		<link rel="icon" href="favicon.ico" type="img/x-icon">
		<link rel="shortcut icon" href="favicon.ico" type="img/x-icon">
		
		<!-- template for use by context-menu-dialog -->
		<script type="text/ng-template" id="contextMenuDialog.html">
			<div id="ss-cell-context-menu" 					
				ng-show="showFromDirective"	
				show-from-element="showFromController"
				ng-style="contextMenuStyle">
					<div class="ss-close-btn" 					ng-click="hideModal()">x</div>
					<div class="ss-content-from-custom-html-tag" 	ng-transclude></div>
			<div>
		</script>
		
		<!-- template for use by ss-cell-tools -->
		<script type="text/ng-template" id="cellTools.html">
			<div 
				class="ss-cell-tools"
				show-tool-menu-from-element="showModalFromController()"
				grid-from-element="grid">
			</div> 
		</script>
		
		
		
		<!-- template for use by ss-cell-drag -->
		<script type="text/ng-template" id="cellDrag.html">
			<div 
				class="ss-cell-drag" 
				min-width-from-element="minWidth"
				min-height-from-element="minHeight"
				grid-from-element="grid"
				filter-row-from-element="filterRow">
			</div> 
		</script>
		
	</head>
	<body>
		<div id="mainGrid" ng-controller="GridController">
			
			<h1>S-sheet</h1>
			
			<!-- the main table holding the grid -->
			<table id="grid">
				<thead>
					<!-- <tr>
						<td ng-repeat-start="item in filterRow" id="{{item.cellId}}">
							<input class="filter" 
								ng-model="filterRow[$index].filterExpression" 
								ng-focus="getCurrentColumnFromFilterCell()" 
								ng-change="updateFilter()">
						</td>
						<td ng-repeat-end class="spacer" ss-cell-drag id="spacer_{{item.cellId}}"> 
						</td>
					</tr> -->
				</thead>
				
				<tbody>
					<tr ng-repeat="item in grid" ng-show="grid[$index].isVisible" >
						<td ng-repeat-start="subItem in item.cells" id="{{subItem.cellId}}" class="data-cell">
							<textarea
								ng-model="grid[$parent.$index].cells[$index].contents" 
								ng-show="grid[$parent.$index].cells[$index].isVisible" ></textarea> 
								<!-- used to have ss-context-menu-dialog  in the textarea ...that seems wrong so removed -->
						</td>
						<td ng-repeat-end class="spacer">	
							<ss-cell-tools	id="spacer_{{subItem.cellId}}"></ss-cell-tools>
							<ss-cell-drag 	id="spacer_{{subItem.cellId}}"></ss-cell-drag>
						</td>
					</tr>
				</tbody>
				<tfoot></tfoot>
			</table>
			
			<context-menu-dialog>
				<p>this is content from the context-menu-dialog custom html tag which should be inserted where the ng-transclude attr is placed within the template</p>
			</context-menu-dialog>
			
		</div> <!-- end of mainGrid -->
		
	</body>
	
	
</html>
